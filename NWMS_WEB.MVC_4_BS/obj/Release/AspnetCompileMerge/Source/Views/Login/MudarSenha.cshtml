@model NWORKFLOW_WEB.MVC_4_BS.Models.MudarSenhaViewModel

@{
    ViewBag.Title = "Alterar Senha";
    //Layout = "~/Views/Shared/_Layout.cshtml";
}

@section scripts{

    <script type="text/javascript">

        var msgRetorno = '@ViewBag.Message';
        if (msgRetorno != "") {
            if (msgRetorno == "Senha alterada com sucesso.") {
                $("#PainelMsgRetorno").removeClass("alert alert-dismissable alert-danger").addClass("alert alert-dismissable alert-success");
            }
            else {
                $("#PainelMsgRetorno").removeClass("alert alert-dismissable alert-success").addClass("alert alert-dismissable alert-danger");
            }

            $('#PainelMsgRetorno strong').html(msgRetorno);
            $('#PainelMsgRetorno').show();
        }

    </script>
}

<h4>
    <ul class="breadcrumb" style="margin-bottom: 5px;">
        <li><a href="@Url.Content("~/PaginaInicial/Index")">@Session[NWORKFLOW_WEB.MVC_4_BS.Views.Util.SessionKeys.NomeUsuarioLogado]</a></li>
        <li class="active">@ViewBag.Title</li>
    </ul>
</h4>
<div class="alert alert-dismissable alert-success" style="display: none;" id="PainelMsgRetorno">
    <button type="button" class="close" data-dismiss="alert">×</button>
    <strong></strong><a href="" class="alert-link"></a>
</div>
@using (Html.BeginForm("MudarSenha", "Login", FormMethod.Post, new { @class = "form-horizontal", role = "form", enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    <hr />
    @Html.ValidationSummary(true)
    <div class="form-group">
        @Html.LabelFor(m => m.SenhaAtual, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.SenhaAtual, new { value = Model.SenhaAtual, @class = "form-control" })
            @Html.ValidationMessageFor(m => m.SenhaAtual)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.NovaSenha, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.NovaSenha, new { value = Model.NovaSenha, @class = "form-control" })
            @Html.ValidationMessageFor(m => m.NovaSenha)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ConfirmarSenha, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.ConfirmarSenha, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.ConfirmarSenha)
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Salvar" class="btn btn-default" />
        </div>
    </div>
}
